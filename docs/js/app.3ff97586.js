(function(){"use strict";var e={2875:function(e,l,a){var n=a(3751),u=a(641),o=a.p+"img/karuta.450578af.png";function t(e,l,a,n,t,r){const i=(0,u.g2)("ImasKaruta");return(0,u.uX)(),(0,u.CE)(u.FK,null,[l[0]||(l[0]=(0,u.Lk)("img",{alt:"Vue logo",src:o},null,-1)),(0,u.bF)(i,{msg:"Welcome to Your Vue.js App"})],64)}a(8111),a(2489);var r=a(33),i=a(953);const v={class:"container"},c={class:"filter-group"},s={class:"filter-row"},d={class:"filter-row"},p={class:"filter-row"},b=["value"],k={class:"filter-row"},f={class:"filter-group"},h=["onUpdate:modelValue"],L={key:0},m=["onUpdate:modelValue","placeholder"],g={class:"filter-group"},y={class:"filter-group"},C={key:0,class:"playback-group"},K={key:0,class:"control-group"},w={key:0},R={key:1,class:"playback-group"},V=["disabled"],U=["disabled"];var O={__name:"ImasKaruta",setup(e){const l=(0,i.KR)([]),a=(0,i.KR)(null),o=(0,i.KR)("above"),t=(0,i.KR)(""),O=(0,i.KR)(null),_=(0,i.KR)("above"),E=(0,i.KR)(""),I=(0,i.KR)(""),X=(0,i.KR)({CinderellaGirls:{enabled:!0,count:null},ShinyColors:{enabled:!0,count:null},"MillionLive!":{enabled:!0,count:null},Others:{enabled:!0,count:null},Campus:{enabled:!0,count:null}}),F=(0,i.KR)([]),j=(0,i.KR)(!1),A=(0,i.KR)(0),W=(0,i.KR)(3),x=(0,i.KR)(!1);let M=null;const B=(0,i.KR)("short"),J=(0,i.KR)(!0),Q=(0,i.KR)(null),T=(0,u.EW)((()=>F.value.length>0&&A.value<F.value.length?F.value[A.value].name:""));async function $(){const e=await fetch("/imas_karuta/data/idols.json");l.value=await e.json()}function H(){return l.value.filter((e=>{let l=!0;null!==a.value&&""!==a.value&&(l="above"===o.value?e.age>=a.value:e.age<=a.value);let n=!0;""!==t.value&&(n=e.bloodType===t.value);let u=!0;null!==O.value&&""!==O.value&&(u="above"===_.value?e.height>=O.value:e.height<=O.value);let r=!0;""!==E.value&&null!==E.value&&(r=e.birthMonth===Number(E.value));let i=!0;return""!==I.value&&(i=e.region.toLowerCase().includes(I.value.toLowerCase())),l&&n&&u&&r&&i}))}function P(e){const l=H().filter((l=>l.brand===e)).length;return l||0}function S(){const e=H();let l=[];for(const a in X.value)if(X.value[a].enabled){let n=e.filter((e=>e.brand===a));n.sort((()=>Math.random()-.5));const u=X.value[a].count;u&&u<n.length&&(n=n.slice(0,u)),l=l.concat(n)}F.value=l.sort((()=>Math.random()-.5))}function G(){0!==F.value.length&&(j.value=!0,A.value=0,N())}function N(){if(A.value<F.value.length){const e=F.value[A.value],l=`/imas_karuta/audio/${e.brand}/${B.value}/${e.code}_${B.value}.wav`;Q.value.src=l,Q.value.play().catch((e=>console.error(e)))}}function Y(){A.value>0&&(A.value--,N())}function q(){N()}function z(){A.value<F.value.length-1&&(A.value++,N())}function D(){0!==F.value.length&&(x.value=!0,A.value=0,N(),M=setInterval((()=>{A.value<F.value.length-1?(A.value++,N()):Z()}),1e3*W.value))}function Z(){M&&(clearInterval(M),M=null),x.value=!1}return $(),(e,l)=>((0,u.uX)(),(0,u.CE)("div",v,[l[29]||(l[29]=(0,u.Lk)("h1",null,"アイマスかるた",-1)),(0,u.Lk)("div",c,[l[19]||(l[19]=(0,u.Lk)("label",{for:"ageInput"},"Age:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),id:"ageInput",placeholder:"数字を入力"},null,512),[[n.Jo,a.value,void 0,{number:!0}]]),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e)},l[11]||(l[11]=[(0,u.Lk)("option",{value:"above"},"以上",-1),(0,u.Lk)("option",{value:"below"},"以下",-1)]),512),[[n.u1,o.value]]),(0,u.Lk)("div",s,[l[13]||(l[13]=(0,u.Lk)("label",null,"Blood Type:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>t.value=e)},l[12]||(l[12]=[(0,u.Fv)('<option value="" data-v-63c73b57>全て</option><option value="A" data-v-63c73b57>A</option><option value="B" data-v-63c73b57>B</option><option value="O" data-v-63c73b57>O</option><option value="AB" data-v-63c73b57>AB</option>',5)]),512),[[n.u1,t.value]])]),(0,u.Lk)("div",d,[l[15]||(l[15]=(0,u.Lk)("label",{for:"heightInput"},"Height:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=e=>O.value=e),id:"heightInput",placeholder:"数字を入力"},null,512),[[n.Jo,O.value,void 0,{number:!0}]]),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>_.value=e)},l[14]||(l[14]=[(0,u.Lk)("option",{value:"above"},"以上",-1),(0,u.Lk)("option",{value:"below"},"以下",-1)]),512),[[n.u1,_.value]])]),(0,u.Lk)("div",p,[l[17]||(l[17]=(0,u.Lk)("label",{for:"birthMonthFilter"},"Birth Month:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>E.value=e),id:"birthMonthFilter"},[l[16]||(l[16]=(0,u.Lk)("option",{value:""},"全て",-1)),((0,u.uX)(),(0,u.CE)(u.FK,null,(0,u.pI)(12,(e=>(0,u.Lk)("option",{key:e,value:e},(0,r.v_)(e),9,b))),64))],512),[[n.u1,E.value,void 0,{number:!0}]])]),(0,u.Lk)("div",k,[l[18]||(l[18]=(0,u.Lk)("label",{for:"regionFilter"},"Region:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=e=>I.value=e),id:"regionFilter",placeholder:"例: 関東"},null,512),[[n.Jo,I.value]])])]),(0,u.Lk)("div",f,[l[22]||(l[22]=(0,u.Lk)("h2",null,"ブランド選択",-1)),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(X.value,((e,a)=>((0,u.uX)(),(0,u.CE)("div",{key:a,class:"filter-row"},[(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"checkbox","onUpdate:modelValue":e=>X.value[a].enabled=e},null,8,h),[[n.lH,X.value[a].enabled]]),(0,u.eW)(" "+(0,r.v_)(a),1)]),X.value[a].enabled?((0,u.uX)(),(0,u.CE)("span",L,[l[20]||(l[20]=(0,u.eW)(" 選択数: ")),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":e=>X.value[a].count=e,min:"1",placeholder:P(a)},null,8,m),[[n.Jo,X.value[a].count,void 0,{number:!0}]]),l[21]||(l[21]=(0,u.eW)(" （デフォルトは全件） "))])):(0,u.Q3)("",!0)])))),128))]),(0,u.Lk)("button",{class:"action-btn",onClick:S},"フィルタ実行"),(0,u.Lk)("div",g,[l[25]||(l[25]=(0,u.Lk)("h2",null,"音声タイプ選択",-1)),(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"radio",value:"short","onUpdate:modelValue":l[7]||(l[7]=e=>B.value=e)},null,512),[[n.XL,B.value]]),l[23]||(l[23]=(0,u.eW)(" Short "))]),(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"radio",value:"long","onUpdate:modelValue":l[8]||(l[8]=e=>B.value=e)},null,512),[[n.XL,B.value]]),l[24]||(l[24]=(0,u.eW)(" Long "))])]),(0,u.Lk)("div",y,[(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"checkbox","onUpdate:modelValue":l[9]||(l[9]=e=>J.value=e)},null,512),[[n.lH,J.value]]),l[26]||(l[26]=(0,u.eW)(" 現在再生中のアイドルを表示 "))])]),F.value.length>0?((0,u.uX)(),(0,u.CE)("div",C,[(0,u.Lk)("button",{class:"action-btn",onClick:G},"手動再生開始"),j.value?((0,u.uX)(),(0,u.CE)("div",K,[J.value?((0,u.uX)(),(0,u.CE)("p",w,"現在再生中: "+(0,r.v_)(T.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("button",{class:"control-btn",onClick:Y},"前のアイドル"),(0,u.Lk)("button",{class:"control-btn",onClick:q},"再生"),(0,u.Lk)("button",{class:"control-btn",onClick:z},"次のアイドル")])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0),F.value.length>0?((0,u.uX)(),(0,u.CE)("div",R,[l[28]||(l[28]=(0,u.Lk)("h2",null,"定期再生モード",-1)),(0,u.Lk)("label",null,[l[27]||(l[27]=(0,u.eW)(" 再生間隔（秒）: ")),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[10]||(l[10]=e=>W.value=e),min:"1"},null,512),[[n.Jo,W.value,void 0,{number:!0}]])]),(0,u.Lk)("button",{class:"action-btn",onClick:D,disabled:x.value},"定期再生開始",8,V),(0,u.Lk)("button",{class:"action-btn",onClick:Z,disabled:!x.value},"定期再生停止",8,U)])):(0,u.Q3)("",!0),(0,u.Lk)("audio",{ref_key:"audioPlayer",ref:Q},null,512)]))}},_=a(6262);const E=(0,_.A)(O,[["__scopeId","data-v-63c73b57"]]);var I=E,X={name:"App",components:{ImasKaruta:I}};const F=(0,_.A)(X,[["render",t]]);var j=F;(0,n.Ef)(j).mount("#app")}},l={};function a(n){var u=l[n];if(void 0!==u)return u.exports;var o=l[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(l,n,u,o){if(!n){var t=1/0;for(c=0;c<e.length;c++){n=e[c][0],u=e[c][1],o=e[c][2];for(var r=!0,i=0;i<n.length;i++)(!1&o||t>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(r=!1,o<t&&(t=o));if(r){e.splice(c--,1);var v=u();void 0!==v&&(l=v)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,u,o]}}(),function(){a.d=function(e,l){for(var n in l)a.o(l,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){a.p="/imas_karuta/"}(),function(){var e={524:0};a.O.j=function(l){return 0===e[l]};var l=function(l,n){var u,o,t=n[0],r=n[1],i=n[2],v=0;if(t.some((function(l){return 0!==e[l]}))){for(u in r)a.o(r,u)&&(a.m[u]=r[u]);if(i)var c=i(a)}for(l&&l(n);v<t.length;v++)o=t[v],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunkimas_karuta"]=self["webpackChunkimas_karuta"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2875)}));n=a.O(n)})();
//# sourceMappingURL=app.3ff97586.js.map