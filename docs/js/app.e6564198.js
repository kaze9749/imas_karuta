(function(){"use strict";var e={2383:function(e,l,a){var n=a(3751),u=a(641),o=a.p+"img/karuta.450578af.png";function t(e,l,a,n,t,r){const i=(0,u.g2)("ImasKaruta");return(0,u.uX)(),(0,u.CE)(u.FK,null,[l[0]||(l[0]=(0,u.Lk)("img",{alt:"Vue logo",src:o},null,-1)),(0,u.bF)(i,{msg:"Welcome to Your Vue.js App"})],64)}a(8111),a(2489);var r=a(33),i=a(953);const v={class:"container"},c={class:"filter-group"},s={class:"filter-row"},d={class:"filter-row"},p={class:"filter-row"},b=["value"],k={class:"filter-row"},f={class:"filter-group"},h=["onUpdate:modelValue"],L={key:0},m=["onUpdate:modelValue","placeholder"],g={class:"filter-group"},y={class:"filter-group"},C={class:"playback-count"},K={key:0,class:"playback-group"},w={key:0,class:"control-group"},R={key:0},V={key:1,class:"playback-group"},_=["disabled"],U=["disabled"];var O={__name:"ImasKaruta",setup(e){const l=(0,i.KR)([]),a=(0,i.KR)(null),o=(0,i.KR)("above"),t=(0,i.KR)(""),O=(0,i.KR)(null),E=(0,i.KR)("above"),I=(0,i.KR)(""),X=(0,i.KR)(""),F=(0,i.KR)({CinderellaGirls:{enabled:!0,count:null},ShinyColors:{enabled:!0,count:null},"MillionLive!":{enabled:!0,count:null},Others:{enabled:!0,count:null},Campus:{enabled:!0,count:null}}),j=(0,i.KR)([]),A=(0,i.KR)(!1),W=(0,i.KR)(0),x=(0,i.KR)(3),M=(0,i.KR)(!1);let B=null;const J=(0,i.KR)("short"),Q=(0,i.KR)(!0),T=(0,i.KR)(null),$=(0,u.EW)((()=>j.value.length>0&&W.value<j.value.length?j.value[W.value].name:""));async function H(){const e=await fetch("/imas_karuta/data/idols.json");l.value=await e.json()}function P(){return l.value.filter((e=>{let l=!0;null!==a.value&&""!==a.value&&(l="above"===o.value?e.age>=a.value:e.age<=a.value);let n=!0;""!==t.value&&(n=e.bloodType===t.value);let u=!0;null!==O.value&&""!==O.value&&(u="above"===E.value?e.height>=O.value:e.height<=O.value);let r=!0;""!==I.value&&null!==I.value&&(r=e.birthMonth===Number(I.value));let i=!0;return""!==X.value&&(i=e.region.toLowerCase().includes(X.value.toLowerCase())),l&&n&&u&&r&&i}))}function S(e){const l=P().filter((l=>l.brand===e)).length;return l||0}function G(){const e=P();let l=[];for(const a in F.value)if(F.value[a].enabled){let n=e.filter((e=>e.brand===a));n.sort((()=>Math.random()-.5));const u=F.value[a].count;u&&u<n.length&&(n=n.slice(0,u)),l=l.concat(n)}j.value=l.sort((()=>Math.random()-.5))}function N(){0!==j.value.length&&(A.value=!0,W.value=0,Y())}function Y(){if(W.value<j.value.length){const e=j.value[W.value],l=`/imas_karuta/audio/${e.brand}/${J.value}/${e.code}_${J.value}.wav`;T.value.src=l,T.value.play().catch((e=>console.error(e)))}}function q(){W.value>0&&(W.value--,Y())}function z(){Y()}function D(){W.value<j.value.length-1&&(W.value++,Y())}function Z(){0!==j.value.length&&(M.value=!0,Y(),B=setInterval((()=>{W.value<j.value.length-1?(W.value++,Y()):ee()}),1e3*x.value))}function ee(){B&&(clearInterval(B),B=null),M.value=!1}return H(),(e,l)=>((0,u.uX)(),(0,u.CE)("div",v,[l[29]||(l[29]=(0,u.Lk)("h1",null,"アイマスかるた",-1)),(0,u.Lk)("div",c,[l[19]||(l[19]=(0,u.Lk)("label",{for:"ageInput"},"Age:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),id:"ageInput",placeholder:"数字を入力"},null,512),[[n.Jo,a.value,void 0,{number:!0}]]),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>o.value=e)},l[11]||(l[11]=[(0,u.Lk)("option",{value:"above"},"以上",-1),(0,u.Lk)("option",{value:"below"},"以下",-1)]),512),[[n.u1,o.value]]),(0,u.Lk)("div",s,[l[13]||(l[13]=(0,u.Lk)("label",null,"Blood Type:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>t.value=e)},l[12]||(l[12]=[(0,u.Fv)('<option value="" data-v-e69b4c1a>全て</option><option value="A" data-v-e69b4c1a>A</option><option value="B" data-v-e69b4c1a>B</option><option value="O" data-v-e69b4c1a>O</option><option value="AB" data-v-e69b4c1a>AB</option>',5)]),512),[[n.u1,t.value]])]),(0,u.Lk)("div",d,[l[15]||(l[15]=(0,u.Lk)("label",{for:"heightInput"},"Height:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[3]||(l[3]=e=>O.value=e),id:"heightInput",placeholder:"数字を入力"},null,512),[[n.Jo,O.value,void 0,{number:!0}]]),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>E.value=e)},l[14]||(l[14]=[(0,u.Lk)("option",{value:"above"},"以上",-1),(0,u.Lk)("option",{value:"below"},"以下",-1)]),512),[[n.u1,E.value]])]),(0,u.Lk)("div",p,[l[17]||(l[17]=(0,u.Lk)("label",{for:"birthMonthFilter"},"Birth Month:",-1)),(0,u.bo)((0,u.Lk)("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>I.value=e),id:"birthMonthFilter"},[l[16]||(l[16]=(0,u.Lk)("option",{value:""},"全て",-1)),((0,u.uX)(),(0,u.CE)(u.FK,null,(0,u.pI)(12,(e=>(0,u.Lk)("option",{key:e,value:e},(0,r.v_)(e),9,b))),64))],512),[[n.u1,I.value,void 0,{number:!0}]])]),(0,u.Lk)("div",k,[l[18]||(l[18]=(0,u.Lk)("label",{for:"regionFilter"},"Region:",-1)),(0,u.bo)((0,u.Lk)("input",{type:"text","onUpdate:modelValue":l[6]||(l[6]=e=>X.value=e),id:"regionFilter",placeholder:"例: 関東"},null,512),[[n.Jo,X.value]])])]),(0,u.Lk)("div",f,[l[22]||(l[22]=(0,u.Lk)("h2",null,"ブランド選択",-1)),((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(F.value,((e,a)=>((0,u.uX)(),(0,u.CE)("div",{key:a,class:"filter-row"},[(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"checkbox","onUpdate:modelValue":e=>F.value[a].enabled=e},null,8,h),[[n.lH,F.value[a].enabled]]),(0,u.eW)(" "+(0,r.v_)(a),1)]),F.value[a].enabled?((0,u.uX)(),(0,u.CE)("span",L,[l[20]||(l[20]=(0,u.eW)(" 選択数: ")),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":e=>F.value[a].count=e,min:"1",placeholder:S(a)},null,8,m),[[n.Jo,F.value[a].count,void 0,{number:!0}]]),l[21]||(l[21]=(0,u.eW)(" （デフォルトは全件） "))])):(0,u.Q3)("",!0)])))),128))]),(0,u.Lk)("button",{class:"action-btn",onClick:G},"フィルタ実行"),(0,u.Lk)("div",g,[l[25]||(l[25]=(0,u.Lk)("h2",null,"音声タイプ選択",-1)),(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"radio",value:"short","onUpdate:modelValue":l[7]||(l[7]=e=>J.value=e)},null,512),[[n.XL,J.value]]),l[23]||(l[23]=(0,u.eW)(" Short "))]),(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"radio",value:"long","onUpdate:modelValue":l[8]||(l[8]=e=>J.value=e)},null,512),[[n.XL,J.value]]),l[24]||(l[24]=(0,u.eW)(" Long "))])]),(0,u.Lk)("div",y,[(0,u.Lk)("label",null,[(0,u.bo)((0,u.Lk)("input",{type:"checkbox","onUpdate:modelValue":l[9]||(l[9]=e=>Q.value=e)},null,512),[[n.lH,Q.value]]),l[26]||(l[26]=(0,u.eW)(" 現在再生中のアイドルを表示 "))])]),(0,u.Lk)("p",C,(0,r.v_)(W.value+1)+" / "+(0,r.v_)(j.value.length),1),j.value.length>0?((0,u.uX)(),(0,u.CE)("div",K,[(0,u.Lk)("button",{class:"action-btn",onClick:N}," 手動再生開始 "),A.value?((0,u.uX)(),(0,u.CE)("div",w,[Q.value?((0,u.uX)(),(0,u.CE)("p",R,"現在再生中: "+(0,r.v_)($.value),1)):(0,u.Q3)("",!0),(0,u.Lk)("button",{class:"control-btn",onClick:q},"前のアイドル"),(0,u.Lk)("button",{class:"control-btn",onClick:z},"再生"),(0,u.Lk)("button",{class:"control-btn",onClick:D},"次のアイドル")])):(0,u.Q3)("",!0)])):(0,u.Q3)("",!0),j.value.length>0?((0,u.uX)(),(0,u.CE)("div",V,[l[28]||(l[28]=(0,u.Lk)("h2",null,"定期再生モード",-1)),(0,u.Lk)("label",null,[l[27]||(l[27]=(0,u.eW)(" 再生間隔（秒）: ")),(0,u.bo)((0,u.Lk)("input",{type:"number","onUpdate:modelValue":l[10]||(l[10]=e=>x.value=e),min:"1"},null,512),[[n.Jo,x.value,void 0,{number:!0}]])]),(0,u.Lk)("button",{class:"action-btn",onClick:Z,disabled:M.value}," 定期再生開始 ",8,_),(0,u.Lk)("button",{class:"action-btn",onClick:ee,disabled:!M.value}," 定期再生停止 ",8,U)])):(0,u.Q3)("",!0),(0,u.Lk)("audio",{ref_key:"audioPlayer",ref:T},null,512)]))}},E=a(6262);const I=(0,E.A)(O,[["__scopeId","data-v-e69b4c1a"]]);var X=I,F={name:"App",components:{ImasKaruta:X}};const j=(0,E.A)(F,[["render",t]]);var A=j;(0,n.Ef)(A).mount("#app")}},l={};function a(n){var u=l[n];if(void 0!==u)return u.exports;var o=l[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(l,n,u,o){if(!n){var t=1/0;for(c=0;c<e.length;c++){n=e[c][0],u=e[c][1],o=e[c][2];for(var r=!0,i=0;i<n.length;i++)(!1&o||t>=o)&&Object.keys(a.O).every((function(e){return a.O[e](n[i])}))?n.splice(i--,1):(r=!1,o<t&&(t=o));if(r){e.splice(c--,1);var v=u();void 0!==v&&(l=v)}}return l}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,u,o]}}(),function(){a.d=function(e,l){for(var n in l)a.o(l,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:l[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){a.p="/imas_karuta/"}(),function(){var e={524:0};a.O.j=function(l){return 0===e[l]};var l=function(l,n){var u,o,t=n[0],r=n[1],i=n[2],v=0;if(t.some((function(l){return 0!==e[l]}))){for(u in r)a.o(r,u)&&(a.m[u]=r[u]);if(i)var c=i(a)}for(l&&l(n);v<t.length;v++)o=t[v],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},n=self["webpackChunkimas_karuta"]=self["webpackChunkimas_karuta"]||[];n.forEach(l.bind(null,0)),n.push=l.bind(null,n.push.bind(n))}();var n=a.O(void 0,[504],(function(){return a(2383)}));n=a.O(n)})();
//# sourceMappingURL=app.e6564198.js.map